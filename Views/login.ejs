<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>login</title>
  <link href="/css/login.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>

</head>

<body>
  <div class="">
    <div class="maindiv">
      <div class="box">

        <form method="post" action="/signup">
          <div id="signupid">
            <h3 id="formname">sign up</h3>
            <div class="inputBox">
              <input type="text" id="username" name="username" placeholder="username" required>

            </div>
            <div class="inputBox">
              <input type="email" id="useremail" name="userEmail" placeholder="useremail" required>

            </div>
            <div class="inputBox">
              <input type="password" id="userpass" name="password" placeholder="password" required>

            </div>


            <button type="submit" name="" id="signupsubmit" value="true">sign up</button>

          </div>
        </form>
        <form method="post" action="/">
          <div id="signinid" style="display: none;">
            <h3 id="formname">sign in</h3>
            <div class="inputBox">
              <input type="email" id="useremail" name="userEmail" placeholder="useremail" autocomplete="off" required>

            </div>
            <div class="inputBox">
              <input type="password" id="userpass" name="password" placeholder="password" autocomplete="off" required>

            </div>
            <button type="submit" name="" id="loginsubmit" value="false">Login</button>
          </div>
        </form>

        <p style="color:white; text-align: center; margin-top: 5px; ">Already have a
          account?
        </p>
        <p style="color:white; text-align: center;  ">
          <a href="#login" onclick="showSignUp()" id="signpage"
            style="color: white ;text-decoration: none;visibility: hidden; text-align: center; ">Click here to
            signup!</a><br>
          <a href="#login" onclick="showSignIn()" id="loginpage"
            style="color: white ;text-decoration: none;visibility: visible; text-align: center ">Click here to
            Login!</a>
        </p>


      </div>
    </div>
  </div>

  </div>
</body>
<script type="text/javascript">
<% if (locals.redirectToLogin) { %>
  const redirectToLogin = "<%= redirectToLogin %>";
    console.log({ redirectToLogin });
    if (redirectToLogin === 'true') {
      document.getElementById("loginpage").click();
      showSignIn();
    }
<% } %>

    function showSignIn() {
      document.getElementById("signpage").style.visibility = 'visible';
      document.getElementById("loginpage").style.visibility = 'hidden';
      // document.querySelector(form).style.visibility = "hidden";
      document.getElementById("signupid").style.display = "none";
      document.getElementById("signinid").style.display = "block";
    }

  function showSignUp() {

    document.getElementById("signpage").style.visibility = 'hidden';
    document.getElementById("loginpage").style.visibility = 'visible';
    document.getElementById("signupid").style.display = "block";
    document.getElementById("signinid").style.display = "none";


  }
  <% if (locals.formsubmit) { %>
    let regsuccess = "<%= formsubmit%>";
    console.log(regsuccess)
    if (regsuccess) {
      alert(regsuccess)
    }
  <% } %>

  <% if (locals.loginerr) { %>
    let logerr = "<%= loginerr%>";
    console.log(logerr)
    if (logerr) {
      alert(logerr)
    }
  <% } %>

  
  <% if (locals.logsuccess) { %>
    let logsuccess = "<%= loginsuccessful%>";
    console.log(logsuccess)
    if (logsuccess) {
      alert(logsuccess)
    }
  <% } %>

</script>

</html>